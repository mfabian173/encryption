<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>The Encrypted Breach</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/pyodide/v0.25.1/full/pyodide.js"></script>
</head>
<body>

<!-- LOADING STATUS -->
<p id="loading">⏳ Initializing investigation environment…</p>

<!-- BRIEFING -->
<div id="briefing">
  <h1>URGENT</h1>

  <div class="case-box">
    <p><strong>CASE #</strong> CS-2025-001</p>
    <p><strong>Title:</strong> The Missing Data Case</p>
  </div>

  <h2>Priority</h2>
  <p class="critical">CRITICAL — Immediate action required</p>

  <h2>Time Allocated</h2>
  <p>3 Hours — Complete all phases</p>

  <h2>Objective</h2>
  <ul>
    <li>Identify culprit</li>
    <li>Use all available evidence</li>
  </ul>

  <h2>Case Summary</h2>
  <p class="instruction">Read carefully before beginning your investigation.</p>

  <p>
    At <strong>03:47 AM on January 15th, 2025</strong>, the TechCorp security system
    detected unauthorized access to the company’s main database.
    Critical customer data files were accessed and potentially compromised.
  </p>

  <p>
    The security team managed to preserve several pieces of evidence before
    the attacker covered their tracks:
  </p>

  <ul>
    <li>An encrypted note left behind in the server logs</li>
    <li>Server login logs showing suspicious access patterns</li>
    <li>A suspicious image file uploaded to the system</li>
    <li>Employee alibi records from the night of the breach</li>
    <li>Complete suspect profiles of all employees with system access</li>
  </ul>

  <p>
    Your mission is to analyze this evidence using computer science techniques
    to identify the culprit. You will decrypt messages, analyze data patterns,
    extract hidden information, and apply logical reasoning to solve the case.
  </p>

  <button id="beginBtn" onclick="beginInvestigation()">
    ▶ BEGIN INVESTIGATION
  </button>
</div>

<!-- ROOM 1 -->
<div id="room1" class="room" style="display:none;">
  <h2>Room 1: Server Logs</h2>

  <p>
    Investigators recovered an encrypted message from the server logs.
    One of the provided cipher tools will decode it.
  </p>

  <textarea id="code1">
print(atbash("YMJ VZNHP GWTBS KTC OZRUX TAJW YMJ QFED ITL"))
  </textarea>

  <button onclick="runPython('code1','output1')">Run Python</button>
  <pre id="output1"></pre>

  <div class="lock">
    <input id="answer1" placeholder="Enter decrypted message">
    <button onclick="unlock(1, 'THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG')">
      Unlock
    </button>
    <p class="feedback" id="feedback1"></p>
  </div>
</div>

<script src="app.js"></script>
</body>
</html>

